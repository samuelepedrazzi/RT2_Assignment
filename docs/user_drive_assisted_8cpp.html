<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RT2 Documentation: src/userDriveAssisted.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RT2 Documentation
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">First part of assignment of RT2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">userDriveAssisted.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>mode utilizing the keyboard to control the robot using obstacle avoidance  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Twist.h&quot;</code><br />
<code>#include &quot;sensor_msgs/LaserScan.h&quot;</code><br />
<code>#include &lt;termios.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for userDriveAssisted.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="user_drive_assisted_8cpp__incl.png" border="0" usemap="#src_2user_drive_assisted_8cpp" alt=""/></div>
<map name="src_2user_drive_assisted_8cpp" id="src_2user_drive_assisted_8cpp">
<area shape="rect" title="mode utilizing the keyboard to control the robot using obstacle avoidance" alt="" coords="204,5,395,32"/>
<area shape="rect" title=" " alt="" coords="5,80,84,107"/>
<area shape="rect" title=" " alt="" coords="109,80,285,107"/>
<area shape="rect" title=" " alt="" coords="309,80,498,107"/>
<area shape="rect" title=" " alt="" coords="523,80,607,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1fa2460e32327ade49189c95740bc1b5"><td class="memItemLeft" align="right" valign="top"><a id="a1fa2460e32327ade49189c95740bc1b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NC</b>&#160;&#160;&#160;&quot;\033[0m&quot;</td></tr>
<tr class="separator:a1fa2460e32327ade49189c95740bc1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af706885b9b3eb2821dff28f8e7f7bb3f"><td class="memItemLeft" align="right" valign="top"><a id="af706885b9b3eb2821dff28f8e7f7bb3f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ITALIC</b>&#160;&#160;&#160;&quot;\033[3m&quot;</td></tr>
<tr class="separator:af706885b9b3eb2821dff28f8e7f7bb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cdbb1a00213c810caccf21cd33a631"><td class="memItemLeft" align="right" valign="top"><a id="a26cdbb1a00213c810caccf21cd33a631"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BOLD</b>&#160;&#160;&#160;&quot;\033[1m&quot;</td></tr>
<tr class="separator:a26cdbb1a00213c810caccf21cd33a631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbc006ea433ad708fdee3e82996e721"><td class="memItemLeft" align="right" valign="top"><a id="acfbc006ea433ad708fdee3e82996e721"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GREEN</b>&#160;&#160;&#160;&quot;\033[1;32m&quot;</td></tr>
<tr class="separator:acfbc006ea433ad708fdee3e82996e721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d23feea868a983c8c2b661e1e16972f"><td class="memItemLeft" align="right" valign="top"><a id="a8d23feea868a983c8c2b661e1e16972f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RED</b>&#160;&#160;&#160;&quot;\033[1;31m&quot;</td></tr>
<tr class="separator:a8d23feea868a983c8c2b661e1e16972f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6e4f0639ce18182611484295fc1657f8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a6e4f0639ce18182611484295fc1657f8">checkDistance</a> (float angle_range[], float min_value, float max_value)</td></tr>
<tr class="memdesc:a6e4f0639ce18182611484295fc1657f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check the minimum value in a fixed range of an array.  <a href="user_drive_assisted_8cpp.html#a6e4f0639ce18182611484295fc1657f8">More...</a><br /></td></tr>
<tr class="separator:a6e4f0639ce18182611484295fc1657f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c16c5cd652a90033feae74085f95705"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a9c16c5cd652a90033feae74085f95705">CollisionAvoidance</a> (const sensor_msgs::LaserScan::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a9c16c5cd652a90033feae74085f95705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to check the closest wall and decide the next move to avoide crashing into it.  <a href="user_drive_assisted_8cpp.html#a9c16c5cd652a90033feae74085f95705">More...</a><br /></td></tr>
<tr class="separator:a9c16c5cd652a90033feae74085f95705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac06b04110ac75d77144590dee18a19a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#ac06b04110ac75d77144590dee18a19a2">RestoreKeyboardBlocking</a> (struct termios *initial_settings)</td></tr>
<tr class="memdesc:ac06b04110ac75d77144590dee18a19a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to restore to blocking keyboard input.  <a href="user_drive_assisted_8cpp.html#ac06b04110ac75d77144590dee18a19a2">More...</a><br /></td></tr>
<tr class="separator:ac06b04110ac75d77144590dee18a19a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876d1a0ae9174509a4f96fa9adca6a10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a876d1a0ae9174509a4f96fa9adca6a10">SetKeyboardNonBlock</a> (struct termios *initial_settings)</td></tr>
<tr class="memdesc:a876d1a0ae9174509a4f96fa9adca6a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set non-blocking keyboard input.  <a href="user_drive_assisted_8cpp.html#a876d1a0ae9174509a4f96fa9adca6a10">More...</a><br /></td></tr>
<tr class="separator:a876d1a0ae9174509a4f96fa9adca6a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb2ae53fa075621962d29fecbf56208"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a6eb2ae53fa075621962d29fecbf56208">GetChar</a> (void)</td></tr>
<tr class="memdesc:a6eb2ae53fa075621962d29fecbf56208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to have non-blocking keyboard input.  <a href="user_drive_assisted_8cpp.html#a6eb2ae53fa075621962d29fecbf56208">More...</a><br /></td></tr>
<tr class="separator:a6eb2ae53fa075621962d29fecbf56208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0f92713039add09c5ebaa13b03a655"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a1c0f92713039add09c5ebaa13b03a655">UpdateVelocity</a> (char input)</td></tr>
<tr class="memdesc:a1c0f92713039add09c5ebaa13b03a655"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to associate the input from keyboard to the correct command.  <a href="user_drive_assisted_8cpp.html#a1c0f92713039add09c5ebaa13b03a655">More...</a><br /></td></tr>
<tr class="separator:a1c0f92713039add09c5ebaa13b03a655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09cf76e8076930099d32e0262e91a20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#af09cf76e8076930099d32e0262e91a20">TeleopCommands</a> ()</td></tr>
<tr class="memdesc:af09cf76e8076930099d32e0262e91a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that acts as UI of the current node, it is used to show the possible commands.  <a href="user_drive_assisted_8cpp.html#af09cf76e8076930099d32e0262e91a20">More...</a><br /></td></tr>
<tr class="separator:af09cf76e8076930099d32e0262e91a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">main  <a href="user_drive_assisted_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac0664a23d360105ec3d579965d5b7631"><td class="memItemLeft" align="right" valign="top"><a id="ac0664a23d360105ec3d579965d5b7631"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#ac0664a23d360105ec3d579965d5b7631">pub_vel</a></td></tr>
<tr class="memdesc:ac0664a23d360105ec3d579965d5b7631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializing the publisher. <br /></td></tr>
<tr class="separator:ac0664a23d360105ec3d579965d5b7631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2581c4daaf0a378032a8856209a719"><td class="memItemLeft" align="right" valign="top"><a id="afc2581c4daaf0a378032a8856209a719"></a>
geometry_msgs::Twist&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#afc2581c4daaf0a378032a8856209a719">robot_vel</a></td></tr>
<tr class="memdesc:afc2581c4daaf0a378032a8856209a719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializing the message of type geometry_msgs::Twist. <br /></td></tr>
<tr class="separator:afc2581c4daaf0a378032a8856209a719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ef68b9bc641b1457c4fe213b5a4fb4"><td class="memItemLeft" align="right" valign="top"><a id="ae9ef68b9bc641b1457c4fe213b5a4fb4"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#ae9ef68b9bc641b1457c4fe213b5a4fb4">th_min</a> = 0.8</td></tr>
<tr class="memdesc:ae9ef68b9bc641b1457c4fe213b5a4fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a global variable for the distance threshold. <br /></td></tr>
<tr class="separator:ae9ef68b9bc641b1457c4fe213b5a4fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc29fb7fadd39a1bc2e3c52532248689"><td class="memItemLeft" align="right" valign="top"><a id="afc29fb7fadd39a1bc2e3c52532248689"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#afc29fb7fadd39a1bc2e3c52532248689">vel</a> = 0.5</td></tr>
<tr class="memdesc:afc29fb7fadd39a1bc2e3c52532248689"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a global variable for the initial velocity. <br /></td></tr>
<tr class="separator:afc29fb7fadd39a1bc2e3c52532248689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8961f9ec91340e55e6ae61bc25fb666"><td class="memItemLeft" align="right" valign="top"><a id="ab8961f9ec91340e55e6ae61bc25fb666"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#ab8961f9ec91340e55e6ae61bc25fb666">twist_vel</a> = 1</td></tr>
<tr class="memdesc:ab8961f9ec91340e55e6ae61bc25fb666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a global initial angular velocity. <br /></td></tr>
<tr class="separator:ab8961f9ec91340e55e6ae61bc25fb666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f5c09ede7f1bb618e7bcf05efcaa629"><td class="memItemLeft" align="right" valign="top"><a id="a1f5c09ede7f1bb618e7bcf05efcaa629"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a1f5c09ede7f1bb618e7bcf05efcaa629">angle_dir</a> = 0</td></tr>
<tr class="memdesc:a1f5c09ede7f1bb618e7bcf05efcaa629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define variable for teleop_key linear speed direction. <br /></td></tr>
<tr class="separator:a1f5c09ede7f1bb618e7bcf05efcaa629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d6f585b7e54a057f672eedfbcc70ea"><td class="memItemLeft" align="right" valign="top"><a id="a45d6f585b7e54a057f672eedfbcc70ea"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#a45d6f585b7e54a057f672eedfbcc70ea">lin_dir</a> = 0</td></tr>
<tr class="memdesc:a45d6f585b7e54a057f672eedfbcc70ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define variable for teleop_key angular speed direction. <br /></td></tr>
<tr class="separator:a45d6f585b7e54a057f672eedfbcc70ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c8b3a25edf0fab282418d62562b99f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="user_drive_assisted_8cpp.html#ac0c8b3a25edf0fab282418d62562b99f">menuTeleop</a></td></tr>
<tr class="memdesc:ac0c8b3a25edf0fab282418d62562b99f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the menu to show the possible commands.  <a href="user_drive_assisted_8cpp.html#ac0c8b3a25edf0fab282418d62562b99f">More...</a><br /></td></tr>
<tr class="separator:ac0c8b3a25edf0fab282418d62562b99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>mode utilizing the keyboard to control the robot using obstacle avoidance </p>
<dl class="section author"><dt>Author</dt><dd>Samuele Pedrazzi </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>24/04/2022</dd></dl>
<p>Subscribes to: <br  />
 /scan to detect obstacles</p>
<p>Publishes to: <br  />
 /cmd_vel to publish the velocity of the robot</p>
<p>Description :</p>
<p>This node intends to give the user the ability to control the robot in the environment through the keyboard, but we also want to provide automatic obstacle avoidance in this situation. Because the purpose is similar to what was accomplished with the KeyboardDrive node, some of the code has been reused. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6e4f0639ce18182611484295fc1657f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4f0639ce18182611484295fc1657f8">&#9670;&nbsp;</a></span>checkDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float checkDistance </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>angle_range</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to check the minimum value in a fixed range of an array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">angle_range[]</td><td>the array </td></tr>
    <tr><td class="paramname">min_value</td><td>the index from which we start searching </td></tr>
    <tr><td class="paramname">max_value</td><td>the index at which we stop the search</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value the minimum float value in the range</dd></dl>
<p>This function through a for loop compare the elements of the selected range, it calculates the minimum distance among array values and return the smallest. </p>

</div>
</div>
<a id="a9c16c5cd652a90033feae74085f95705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c16c5cd652a90033feae74085f95705">&#9670;&nbsp;</a></span>CollisionAvoidance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CollisionAvoidance </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::LaserScan::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to check the closest wall and decide the next move to avoide crashing into it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>contains the variables that the robot laser provides.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void as this method cannot fail.</dd></dl>
<p>This function is used to control the robot movement and manage its speed. It checks the distance of the robot to a wall and if it is less than the threshold set before, it updates the speed in such a way that the robot cannot collide with circuit delimitations and it is able to continue driving avoiding walls. The parameter msg is the message published into base_scan topic. </p>

</div>
</div>
<a id="a6eb2ae53fa075621962d29fecbf56208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eb2ae53fa075621962d29fecbf56208">&#9670;&nbsp;</a></span>GetChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetChar </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to have non-blocking keyboard input. </p>
<dl class="section return"><dt>Returns</dt><dd>an integer c given from the user input</dd></dl>
<p>This function is used to avoid pressing enter after giving a keyboard input. </p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>main </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The command line arguments are counted in integers. </td></tr>
    <tr><td class="paramname">argv</td><td>The command line arguments are represented as a vector. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer 0 if it succeeded.</dd></dl>
<p>The main function initialize the node, advertise the topic to publish the velocity, subscribe to /scan topic and start the program with async spynner to create a multithread process in order to have a non-blocking read from the teleop keyboard inputs. </p>

</div>
</div>
<a id="ac06b04110ac75d77144590dee18a19a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac06b04110ac75d77144590dee18a19a2">&#9670;&nbsp;</a></span>RestoreKeyboardBlocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RestoreKeyboardBlocking </td>
          <td>(</td>
          <td class="paramtype">struct termios *&#160;</td>
          <td class="paramname"><em>initial_settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to restore to blocking keyboard input. </p>
<dl class="section return"><dt>Returns</dt><dd>void as this method cannot fail.</dd></dl>
<p>This function is used to restore to blocking mode the old keyboard settings. </p>

</div>
</div>
<a id="a876d1a0ae9174509a4f96fa9adca6a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a876d1a0ae9174509a4f96fa9adca6a10">&#9670;&nbsp;</a></span>SetKeyboardNonBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetKeyboardNonBlock </td>
          <td>(</td>
          <td class="paramtype">struct termios *&#160;</td>
          <td class="paramname"><em>initial_settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set non-blocking keyboard input. </p>
<dl class="section return"><dt>Returns</dt><dd>void as this method cannot fail.</dd></dl>
<p>This function is used to set to non-blocking mode the keyboard settings. </p>

</div>
</div>
<a id="af09cf76e8076930099d32e0262e91a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09cf76e8076930099d32e0262e91a20">&#9670;&nbsp;</a></span>TeleopCommands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TeleopCommands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that acts as UI of the current node, it is used to show the possible commands. </p>
<dl class="section return"><dt>Returns</dt><dd>void as this method cannot fail.</dd></dl>
<p>This function aim is to show to the user the possible commands for moving the robot in the environment. Then it updates the curent velocity and directon of the robot in response of the input. </p>

</div>
</div>
<a id="a1c0f92713039add09c5ebaa13b03a655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c0f92713039add09c5ebaa13b03a655">&#9670;&nbsp;</a></span>UpdateVelocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdateVelocity </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to associate the input from keyboard to the correct command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">an</td><td>input char to associate with the correct command</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void as this method cannot fail.</dd></dl>
<p>This function is used to control velocity strategically, the user's input is associated with a certain action via a switch and the speed and turn velocity are updated in the right way. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac0c8b3a25edf0fab282418d62562b99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0c8b3a25edf0fab282418d62562b99f">&#9670;&nbsp;</a></span>menuTeleop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string menuTeleop</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= R<span class="stringliteral">&quot;(You can move the robot with the following commands:</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">   7    8    9</span></div>
<div class="line"><span class="stringliteral">   4    5    6</span></div>
<div class="line"><span class="stringliteral">   1    2    3</span></div>
<div class="line"><span class="stringliteral">   </span></div>
<div class="line"><span class="stringliteral">Press:</span></div>
<div class="line"><span class="stringliteral">*/ /: increase/decrease all speeds by 10%</span></div>
<div class="line"><span class="stringliteral">+/- : increase/decrease only linear speed by 10%</span></div>
<div class="line"><span class="stringliteral">a/z : increase/decrease only angular speed by 10%</span></div>
<div class="line"><span class="stringliteral">R/r : reset all speeds</span></div>
<div class="line"><span class="stringliteral">e   : reset only linear speed</span></div>
<div class="line"><span class="stringliteral">w   : reset only angular speed</span></div>
<div class="line"><span class="stringliteral">CTRL-C to quit</span></div>
<div class="line"><span class="stringliteral">Notice that any other input will stop the robot.</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">)&quot;</span></div>
</div><!-- fragment -->
<p>Define the menu to show the possible commands. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
